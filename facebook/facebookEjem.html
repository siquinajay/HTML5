<html>
<head>
<script src="http://blog.ikhuerta.com/jsDownload/simpleFacebookGraph.js"></script>
	<title>FacebookEjemplo</title>

	<script type="text/javascript">

// Cuando la pagina carga miramos si ya hay un usuario identificado.
fb.ready(function(){ 
  if (fb.logged)
  {
    // Cambiamos el link de identificarse por el nombre y la foto del usuario.
    html = "<p>Hola " + fb.user.name + "</p>";
    html += '<p><img src="' + fb.user.picture + '"/></p>';
    html += '<p><a href="#" onclick="fb.logout(); return false;">Salir</a></p>';
    document.getElementById("conectar_facebook").innerHTML = html;
  }
});


// Funcion para logarse con Facebook.
function login() {
  fb.login(function(){ 
    if (fb.logged) {
      // Cambiamos el link de identificarse por el nombre y la foto del usuario.
      html = "<p>Hola " + fb.user.name + "</p>";
      html += "<p><img src='" + fb.user.picture + "'/></p>";
      document.getElementById("conectar_facebook").innerHTML = html;
    } else {
      alert("No se pudo identificar al usuario");
    }
  })
};

// Funcion para publicar un mensaje en tu muro
var publish = function () {
    fb.publish({
      message : "Estoy probando un script para que la gente publique desde mi/s web/s en Facebook",
      picture : "http://blog.ikhuerta.com/wp-content/themes/ikhuerta3/images/ikhuerta.jpg",
      link : "http://blog.ikhuerta.com/simple-facebook-graph-javascript-sdk",
      name : "Simple Facebook Graph Javascript SDK",
      description : "Facebook Graph es una nueva forma de conectar tu web Facebook. Con este script es muy f√°cil conseguirlo :)"
    },function(published){ 
      if (published)
       alert("publicado!");
      else
       alert("No publicado :(, seguramente porque no estas identificado o no diste permisos");
    });  
}

	</script>
</head>
<body>

  <div id="conectar_facebook">
    <a href="#" onclick="login(); return false;">Contectarse a Facebook</a>
  </div>

  <br><br>

  <p><a href="#" onclick="publish(); return false;">Publicar algo en tu muro</a></p><a href="#" onclick="publish(); return false;">



</a><div id="fb-root" class=" fb_reset"><script async="" src="http://connect.facebook.net/es_ES/all.js"></script><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe id="fb_xdm_frame_http" name="fb_xdm_frame_http" src="http://static.ak.facebook.com/connect/xd_arbiter.php?version=17#channel=f26667222c&amp;origin=http%3A%2F%2Fblog.ikhuerta.com&amp;channel_path=%2FjsExamples%2FsimpleFacebookGraphApi.html%3Ffb_xd_fragment%23xd_sig%3Df1083024c4%26"></iframe><iframe id="fb_xdm_frame_https" name="fb_xdm_frame_https" src="https://s-static.ak.facebook.com/connect/xd_arbiter.php?version=17#channel=f26667222c&amp;origin=http%3A%2F%2Fblog.ikhuerta.com&amp;channel_path=%2FjsExamples%2FsimpleFacebookGraphApi.html%3Ffb_xd_fragment%23xd_sig%3Df1083024c4%26"></iframe></div></div></div></body>
</html>